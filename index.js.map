{"version":3,"file":"index.js","sources":["../src/js/iziToastHelper.js","../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../fonts/style.css';\n\nexport function showError(message) {\n  iziToast.error({\n    ...commonStyles,\n    message: message,\n    color: '#ef4040',\n    icon: 'icon-error',\n  });\n}\n\nexport function showOk(message) {\n  iziToast.success({\n    ...commonStyles,\n    message: message,\n    color: '#59A10D',\n    icon: 'icon-ok',\n  });\n}\n\nconst commonStyles =\n  {\n    position: 'topRight',\n    titleColor: '#fff',\n    titleSize: '16px',\n    titleWeight: '700',\n    titleLineHeight: '1.5',\n    messageColor: '#fff',\n    messageSize: '16px',\n    messageWeight: '400',\n    messageLineHeight: '1.5',\n    iconColor: '#fff',\n    theme: 'dark',\n    maxWidth: '432px',\n  };\n","import axios from 'axios';\nimport { showError } from './iziToastHelper.js';\n\nconst key = '52494269-f940d25beafa0bafe61525357';\nconst url = 'https://pixabay.com/api/';\nconst imagesPerPage = 9;\n\nexport async function getImagesByQuery(query, page) {\n  try {\n    const response = await axios.get(url, getParams(query, page));\n    const images = response.data.hits;\n\n    if (!images || !images.length) {\n      showError(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      return [];\n    }\n\n    return images;\n  } catch (error) {\n    showError(error.message);\n    return [];\n  }\n}\n\nfunction getParams(query, page) {\n  return {\n    params: {\n      key: key,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: imagesPerPage,\n      page: page,\n    },\n  };\n}\n","export const refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './refs.js';\n\nconst lightbox = new SimpleLightbox('.gallery a', {captionsData: 'alt', captionDelay: 250});\n\nexport function createGallery(images) {\n  const markup =\n    images\n      .map(\n        image =>\n          `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-img\">\n          </a>\n          <ul class=\"img-footer\">\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Likes</h3>\n              <p class=\"meta-info\">${image.likes}</p>\n            </li>\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Views</h3>\n              <p class=\"meta-info\">${image.views}</p>\n            </li>\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Comments</h3>\n              <p class=\"meta-info\">${image.comments}</p>\n            </li>\n            <li class=\"img-footer-item\">\n              <h3 class=\"meta-header\">Downloads</h3>\n              <p class=\"meta-info\">${image.downloads}</p>\n            </li>\n           </ul>\n       </li>`\n      )\n      .join('');\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n\nexport function showLoadMore() {\n  refs.loadMoreBtn.classList.remove('hidden');\n  refs.loadMoreBtn.scrollIntoView({ behavior: 'smooth', block: 'end' })\n}\n\nexport function hideLoadMore() {\n  refs.loadMoreBtn.classList.add('hidden');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  hideLoadMore,\n  showLoader,\n  showLoadMore,\n} from './js/render-functions.js';\nimport { refs } from './js/refs.js';\n\nlet page = 1;\nlet lastQuery = '';\n\nrefs.form.addEventListener('submit', async e => {\n  e.preventDefault();\n  const inputValue = e.target.elements['search-text'].value.trim();\n\n  if (!inputValue) return;\n\n  e.target.reset();\n  clearGallery();\n  showLoader();\n  hideLoadMore();\n  lastQuery = inputValue;\n\n  try {\n    const images = await getImagesByQuery(inputValue, page);\n    createGallery(images);\n    page++;\n    showLoadMore();\n  } finally {\n    hideLoader();\n  }\n});\n\nrefs.loadMoreBtn.addEventListener('click', async () => {\n  hideLoadMore();\n  showLoader();\n  try {\n    const images = await getImagesByQuery(lastQuery, page);\n    createGallery(images);\n    page++;\n    showLoadMore();\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["showError","message","iziToast","commonStyles","key","url","imagesPerPage","getImagesByQuery","query","page","images","axios","getParams","error","refs","lightbox","SimpleLightbox","createGallery","markup","image","clearGallery","showLoader","hideLoader","showLoadMore","hideLoadMore","lastQuery","e","inputValue"],"mappings":"owBAKO,SAASA,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,GAAGC,EACH,QAASF,EACT,MAAO,UACP,KAAM,YACV,CAAG,CACH,CAWA,MAAME,EACJ,CACE,SAAU,WACV,WAAY,OACZ,UAAW,OACX,YAAa,MACb,gBAAiB,MACjB,aAAc,OACd,YAAa,OACb,cAAe,MACf,kBAAmB,MACnB,UAAW,OACX,MAAO,OACP,SAAU,OACX,EClCGC,EAAM,qCACNC,EAAM,2BACNC,EAAgB,EAEf,eAAeC,EAAiBC,EAAOC,EAAM,CAClD,GAAI,CAEF,MAAMC,GADW,MAAMC,EAAM,IAAIN,EAAKO,EAAUJ,EAAOC,CAAI,CAAC,GACpC,KAAK,KAE7B,MAAI,CAACC,GAAU,CAACA,EAAO,QACrBV,EACE,0EACR,EACa,IAGFU,CACR,OAAQG,EAAO,CACd,OAAAb,EAAUa,EAAM,OAAO,EAChB,EACR,CACH,CAEA,SAASD,EAAUJ,EAAOC,EAAM,CAC9B,MAAO,CACL,OAAQ,CACN,IAAKL,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUF,EACV,KAAMG,CACP,CACL,CACA,CCtCO,MAAMK,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,EACxC,YAAa,SAAS,cAAc,gBAAgB,CACtD,ECDMC,EAAW,IAAIC,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,GAAG,CAAC,EAEnF,SAASC,EAAcP,EAAQ,CACpC,MAAMQ,EACJR,EACG,IACCS,GACE;AAAA,0CACgCA,EAAM,aAAa;AAAA,wBACrCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKzBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,aAI7C,EACA,KAAK,EAAE,EAEZL,EAAK,QAAQ,mBAAmB,YAAaI,CAAM,EACnDH,EAAS,QAAO,CAClB,CAEO,SAASK,GAAe,CAC7BN,EAAK,QAAQ,UAAY,EAC3B,CAEO,SAASO,GAAa,CAC3BP,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASQ,GAAa,CAC3BR,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAEO,SAASS,GAAe,CAC7BT,EAAK,YAAY,UAAU,OAAO,QAAQ,EAC1CA,EAAK,YAAY,eAAe,CAAE,SAAU,SAAU,MAAO,MAAO,CACtE,CAEO,SAASU,GAAe,CAC7BV,EAAK,YAAY,UAAU,IAAI,QAAQ,CACzC,CCjDA,IAAIL,EAAO,EACPgB,EAAY,GAEhBX,EAAK,KAAK,iBAAiB,SAAU,MAAMY,GAAK,CAC9CA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAE1D,GAAKC,EAEL,CAAAD,EAAE,OAAO,QACTN,IACAC,IACAG,IACAC,EAAYE,EAEZ,GAAI,CACF,MAAMjB,EAAS,MAAMH,EAAiBoB,EAAYlB,CAAI,EACtDQ,EAAcP,CAAM,EACpBD,IACAc,GACJ,QAAY,CACRD,GACD,EACH,CAAC,EAEDR,EAAK,YAAY,iBAAiB,QAAS,SAAY,CACrDU,IACAH,IACA,GAAI,CACF,MAAMX,EAAS,MAAMH,EAAiBkB,EAAWhB,CAAI,EACrDQ,EAAcP,CAAM,EACpBD,IACAc,GACJ,QAAY,CACRD,GACD,CACH,CAAC"}